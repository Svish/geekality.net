---
title: Ubuntu server upgrade
published: '2014-08-24'
permalinks:
  - /2014/08/24/ubuntu-server-upgrade/
  - /?p=2560
categories:
  - technology
tags:
  - server
  - ubuntu
  - ubuntu-server
  - unix
---

Commands to update an Ubuntu server.

```bash
# Get list of available upgrades
sudo apt-get update

# Upgrade packages

sudo apt-get upgrade

# Remove no longer needed packages

sudo apt-get autoremove

# Upgrade distro

sudo apt-get dist-upgrade
```

## Remove old kernels

```bash
# Reboot into newest first, of course
sudo shutdown -r now

# Remove all old kernels

sudo apt-get remove --purge $(dpkg -l 'linux-image-*' | sed '/^ii/!d;/'"$(uname -r | sed "s/\(._\)-\([^0-9]\+\)/\1/")"'/d;s/^[^ ]_ [^ ]_ \([^ ]_\).\*/\1/;/[0-9]/!d')
```
